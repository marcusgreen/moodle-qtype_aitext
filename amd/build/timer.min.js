define("qtype_aitext/timer",["jquery","core/log"],(function($,log){return log.debug("Timer: initialising"),{increment:1,initseconds:0,seconds:0,finalseconds:0,intervalhandle:null,callback:null,enabled:!1,clone:function(){return $.extend(!0,{},this)},init:function(initseconds,callback){this.initseconds=parseInt(initseconds),this.seconds=parseInt(initseconds),this.callback=callback,this.enabled=!0},start:function(){if(this.enabled){var self=this;this.finalseconds=0,this.initseconds>0?this.increment=-1:this.increment=1,this.intervalhandle=this.customSetInterval((function(){self.seconds=self.seconds+self.increment,self.finalseconds=self.finalseconds+1,self.callback()}),1e3)}},customSetInterval:function(func,time){var lastTime=Date.now(),lastDelay=time,outp={};return outp.id=setTimeout((function tick(){var now=Date.now(),dTime=now-lastTime;lastTime=now,lastDelay=time+lastDelay-dTime,outp.id=setTimeout(tick,lastDelay),func()}),time),outp},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},fetch_display_time:function(someseconds){someseconds||(someseconds=this.seconds);var theHours="00"+parseInt(someseconds/3600);theHours=theHours.substr(theHours.length-2,2);var theMinutes="00"+parseInt(someseconds/60);theMinutes=theMinutes.substr(theMinutes.length-2,2);var theSeconds="00"+parseInt(someseconds%60);return theHours+":"+theMinutes+":"+(theSeconds=theSeconds.substr(theSeconds.length-2,2))},stop:function(){clearTimeout(this.intervalhandle.id)},reset:function(){this.seconds=this.initseconds},pause:function(){this.increment=0},resume:function(){this.initseconds>0?this.increment=-1:this.increment=1}}}));

//# sourceMappingURL=timer.min.js.map